

<div id="content">
  <div id="content-header">
    <div id="breadcrumb"> <a href="#" title="Go to Home" class="tip-bottom"><i class="icon-home"></i> 首页</a> <a href="#" class="current">注册</a> </div>
    <h1>修改参数</h1>
  </div>
  <div class="container-fluid"><hr>
    <div class="row-fluid">
      <div style="margin-left: 40px;margin-right: 40px;margin-top: 40px;">
        <div class="widget-box" style="width: 650px;margin: 0 auto;">
          <div class="widget-title"> <span class="icon"> <i class="icon-info-sign"></i> </span>
            <h5>希望若干年后拥有一笔资产，计算每期的投资</h5>
          </div>
          <div class="widget-content nopadding">
            <form class="form-horizontal" method="post" action="#" name="basic_validate" id="basic_validate" novalidate="novalidate">
              <div class="control-group">
                <label class="control-label" style="margin-right: 10px;">最终价值目标</label>
                <div class="controls">
                  <input type="text"  id="FulInvest" >
                </div>
              </div>
              <div class="control-group">
                <label class="control-label" style="margin-right: 10px;">将要投资总期数</label>
                <div class="controls">
                  <input type="text"  id="Fterms">
                </div>
              </div>
              <div class="control-group">
                <label class="control-label" style="margin-right: 10px;">投资增长率</label>
                <div class="controls">
                  <input type="text"  id="FinRate">
                </div>
              </div>
                <div class="control-group">
                <label class="control-label" style="margin-right: 10px;">税率</label>
                <div class="controls">
                  <input type="text" id="FtaxRate">
                </div>
              </div>
                <div class="control-group">
                <label class="control-label" style="margin-right: 10px;">每期多长时间</label>
                <div class="controls">
                  <select id="FdayCount">
                      <option value="15" selected="selected">15天</option>
                      <option value="30">30天</option>
                      <option value="60">60天</option>
                      <option value="90">90天</option>
                  </select>
                </div>
              </div>
              <div class="form-actions">
                  <input type="reset" value="重置" class="btn btn-reset" style="margin-left: 20px;">
                <input type="submit" id="Fsubmit" value="确定" class="btn btn-success" onclick="return false;"  style="float:right;margin-right: 30px;">
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
    $("#Fsubmit").click(function(){
                 var FulInvest=$("#FulInvest").val();
                 var Fterms=$("#Fterms").val();
                 var FinRate=$("#FinRate").val();
                 var FtaxRate=$("#FtaxRate").val();
                 var FdayCount=$("#FdayCount").val();
                 if(FulInvest<=0){
                     $("#example").modal('toggle');
                    $("#AlertMessage").text("最终价值目标输入有误");
                 }
                 else if(Fterms<=0){
                     $("#example").modal('toggle');
                    $("#AlertMessage").text("将要投资总期数输入有误");
                 }
                 else if(FinRate<=0){
                     $("#example").modal('toggle');
                    $("#AlertMessage").text("投资增长率率输入有误");
                 }
                 else if(FtaxRate<=0){
                     $("#example").modal('toggle');
                    $("#AlertMessage").text("税率输入有误");
                 }
                 else{
                        $.post("/change_final/",{FulInvest:FulInvest,Fterms:Fterms,FinRate:FinRate,FtaxRate:FtaxRate,FdayCount:FdayCount}).done(function(result){
                             if(result=="true"){
                                 $("#textMessage").text("设置成功");
                                 $("#TextSubmit").click(function(){
                                     location.reload();
                                 });
                                 //注意此出绑定的方法是否为一次性
                                 $("#textExample").modal('toggle');
                             }else{
                                 $("#example").modal('toggle');
                                 $("#AlertMessage").text("设置失败");
                             }
                     })
                 }
    });
    $("#FulInvest").blur(function(){
       var FulInvest=$("#FulInvest").val();
       if(FulInvest<=0){
                     $("#example").modal('toggle');
                    $("#AlertMessage").text("最终价值目标输入有误");
                 }

    });
    $("#Fterms").blur(function(){
       var Fterms=$("#Fterms").val();
       if(Fterms<=0){
                     $("#example").modal('toggle');
                    $("#AlertMessage").text("将要投资总期数输入有误");
                 }
    });
    $("#FinRate").blur(function(){
        var FinRate=$("#FinRate").val();
        if(FinRate<=0){
                     $("#example").modal('toggle');
                    $("#AlertMessage").text("投资增长率率输入有误");
                 }
    });
    $("#FtaxRate").blur(function(){
        var FtaxRate=$("#FtaxRate").val();
        if(FtaxRate<=0){
                     $("#example").modal('toggle');
                    $("#AlertMessage").text("税率输入有误");
                 }
    })
</script>
